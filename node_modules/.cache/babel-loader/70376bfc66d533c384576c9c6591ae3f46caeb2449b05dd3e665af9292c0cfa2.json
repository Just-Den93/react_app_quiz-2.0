{"ast":null,"code":"var _jsxFileName = \"E:\\\\quiz-app-react\\\\src\\\\context\\\\QuizContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\n\n// Создаем контекст\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizContext = /*#__PURE__*/createContext();\n\n// Хук для доступа к контексту\nexport function useQuizContext() {\n  _s();\n  return useContext(QuizContext);\n}\n\n// Провайдер контекста\n_s(useQuizContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function QuizProvider({\n  children\n}) {\n  _s2();\n  const [showQuizPage, setShowQuizPage] = useState(() => {\n    const savedState = localStorage.getItem('showQuizPage');\n    return savedState === 'true';\n  });\n  const [selectedMode, setSelectedMode] = useState(null);\n  const [currentQuizId, setCurrentQuizId] = useState(null); // Состояние для текущего uuid\n  const [usedBlocks, setUsedBlocks] = useState(() => {\n    const saved = localStorage.getItem('usedBlocks');\n    return saved ? JSON.parse(saved) : {};\n  });\n  const [quizStates, setQuizStates] = useState({});\n  const updateQuizState = (uuid, newState) => {\n    setQuizStates(prevStates => ({\n      ...prevStates,\n      [uuid]: {\n        ...prevStates[uuid],\n        ...newState\n      }\n    }));\n  };\n  const markBlockAsUsed = (categoryName, blockId) => {\n    setUsedBlocks(prevUsedBlocks => {\n      const updatedUsedBlocks = {\n        ...prevUsedBlocks\n      };\n      if (!updatedUsedBlocks[categoryName]) {\n        updatedUsedBlocks[categoryName] = [];\n      }\n      if (!updatedUsedBlocks[categoryName].includes(blockId)) {\n        updatedUsedBlocks[categoryName].push(blockId);\n      }\n      localStorage.setItem('usedBlocks', JSON.stringify(updatedUsedBlocks));\n      return updatedUsedBlocks;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(QuizContext.Provider, {\n    value: {\n      showQuizPage,\n      setShowQuizPage,\n      selectedMode,\n      setSelectedMode,\n      currentQuizId,\n      setCurrentQuizId,\n      usedBlocks,\n      setUsedBlocks,\n      quizStates,\n      updateQuizState,\n      markBlockAsUsed // Добавляем функцию для отметки блоков как использованных\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s2(QuizProvider, \"voOMlEmHmTImROEnUCkZNeDHjMY=\");\n_c = QuizProvider;\nvar _c;\n$RefreshReg$(_c, \"QuizProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","QuizContext","useQuizContext","_s","QuizProvider","children","_s2","showQuizPage","setShowQuizPage","savedState","localStorage","getItem","selectedMode","setSelectedMode","currentQuizId","setCurrentQuizId","usedBlocks","setUsedBlocks","saved","JSON","parse","quizStates","setQuizStates","updateQuizState","uuid","newState","prevStates","markBlockAsUsed","categoryName","blockId","prevUsedBlocks","updatedUsedBlocks","includes","push","setItem","stringify","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/quiz-app-react/src/context/QuizContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\r\n\r\n// Создаем контекст\r\nconst QuizContext = createContext();\r\n\r\n// Хук для доступа к контексту\r\nexport function useQuizContext() {\r\n  return useContext(QuizContext);\r\n}\r\n\r\n// Провайдер контекста\r\nexport function QuizProvider({ children }) {\r\n  const [showQuizPage, setShowQuizPage] = useState(() => {\r\n    const savedState = localStorage.getItem('showQuizPage');\r\n    return savedState === 'true';\r\n  });\r\n  const [selectedMode, setSelectedMode] = useState(null);\r\n  const [currentQuizId, setCurrentQuizId] = useState(null); // Состояние для текущего uuid\r\n  const [usedBlocks, setUsedBlocks] = useState(() => {\r\n    const saved = localStorage.getItem('usedBlocks');\r\n    return saved ? JSON.parse(saved) : {};\r\n  });\r\n\r\n  const [quizStates, setQuizStates] = useState({});\r\n\r\n  const updateQuizState = (uuid, newState) => {\r\n    setQuizStates(prevStates => ({\r\n      ...prevStates,\r\n      [uuid]: {\r\n        ...prevStates[uuid],\r\n        ...newState,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const markBlockAsUsed = (categoryName, blockId) => {\r\n    setUsedBlocks(prevUsedBlocks => {\r\n      const updatedUsedBlocks = { ...prevUsedBlocks };\r\n      if (!updatedUsedBlocks[categoryName]) {\r\n        updatedUsedBlocks[categoryName] = [];\r\n      }\r\n      if (!updatedUsedBlocks[categoryName].includes(blockId)) {\r\n        updatedUsedBlocks[categoryName].push(blockId);\r\n      }\r\n      localStorage.setItem('usedBlocks', JSON.stringify(updatedUsedBlocks));\r\n      return updatedUsedBlocks;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <QuizContext.Provider value={{\r\n      showQuizPage,\r\n      setShowQuizPage,\r\n      selectedMode,\r\n      setSelectedMode,\r\n      currentQuizId,\r\n      setCurrentQuizId,\r\n      usedBlocks,\r\n      setUsedBlocks,\r\n      quizStates,\r\n      updateQuizState,\r\n      markBlockAsUsed, // Добавляем функцию для отметки блоков как использованных\r\n    }}>\r\n      {children}\r\n    </QuizContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;;AAElE;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;;AAEnC;AACA,OAAO,SAASM,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC/B,OAAON,UAAU,CAACI,WAAW,CAAC;AAChC;;AAEA;AAAAE,EAAA,CAJgBD,cAAc;AAK9B,OAAO,SAASE,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,GAAA;EACzC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,MAAM;IACrD,MAAMW,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACvD,OAAOF,UAAU,KAAK,MAAM;EAC9B,CAAC,CAAC;EACF,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC1D,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,MAAM;IACjD,MAAMoB,KAAK,GAAGR,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;IAChD,OAAOO,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC;EACvC,CAAC,CAAC;EAEF,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEhD,MAAMyB,eAAe,GAAGA,CAACC,IAAI,EAAEC,QAAQ,KAAK;IAC1CH,aAAa,CAACI,UAAU,KAAK;MAC3B,GAAGA,UAAU;MACb,CAACF,IAAI,GAAG;QACN,GAAGE,UAAU,CAACF,IAAI,CAAC;QACnB,GAAGC;MACL;IACF,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAME,eAAe,GAAGA,CAACC,YAAY,EAAEC,OAAO,KAAK;IACjDZ,aAAa,CAACa,cAAc,IAAI;MAC9B,MAAMC,iBAAiB,GAAG;QAAE,GAAGD;MAAe,CAAC;MAC/C,IAAI,CAACC,iBAAiB,CAACH,YAAY,CAAC,EAAE;QACpCG,iBAAiB,CAACH,YAAY,CAAC,GAAG,EAAE;MACtC;MACA,IAAI,CAACG,iBAAiB,CAACH,YAAY,CAAC,CAACI,QAAQ,CAACH,OAAO,CAAC,EAAE;QACtDE,iBAAiB,CAACH,YAAY,CAAC,CAACK,IAAI,CAACJ,OAAO,CAAC;MAC/C;MACAnB,YAAY,CAACwB,OAAO,CAAC,YAAY,EAAEf,IAAI,CAACgB,SAAS,CAACJ,iBAAiB,CAAC,CAAC;MACrE,OAAOA,iBAAiB;IAC1B,CAAC,CAAC;EACJ,CAAC;EAED,oBACE/B,OAAA,CAACC,WAAW,CAACmC,QAAQ;IAACC,KAAK,EAAE;MAC3B9B,YAAY;MACZC,eAAe;MACfI,YAAY;MACZC,eAAe;MACfC,aAAa;MACbC,gBAAgB;MAChBC,UAAU;MACVC,aAAa;MACbI,UAAU;MACVE,eAAe;MACfI,eAAe,CAAE;IACnB,CAAE;IAAAtB,QAAA,EACCA;EAAQ;IAAAiC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B;AAACnC,GAAA,CAvDeF,YAAY;AAAAsC,EAAA,GAAZtC,YAAY;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}