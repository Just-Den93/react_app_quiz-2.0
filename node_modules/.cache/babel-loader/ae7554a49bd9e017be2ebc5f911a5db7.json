{"ast":null,"code":"var _jsxFileName = \"E:\\\\quiz-app-react\\\\src\\\\components\\\\QAMode\\\\QAMode.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport StartTimerButton from '../StartTimerButton/StartTimerButton';\nimport Timer from '../Timer/Timer';\nimport SelectCategoryButton from '../SelectCategoryButton/SelectCategoryButton';\nimport ShowAnswerButton from '../ShowAnswerButton/ShowAnswerButton';\nimport styles from './QAMode.module.css';\nfunction QAMode({\n  block,\n  showAnswer,\n  setTimerStarted,\n  timerStarted,\n  timerEnded,\n  handleTimerEnd,\n  handleShowAnswer,\n  handleSelectCategory,\n  handleForceStop\n}) {\n  const [forceStopped, setForceStopped] = useState(false);\n  const [answerShown, setAnswerShown] = useState(false); // Локальное состояние для контроля отображения кнопок\n  const [localTimerStarted, setLocalTimerStarted] = useState(false); // Локальное состояние для контроля таймера\n\n  useEffect(() => {\n    // Сброс состояния при изменении блока или при открытии модального окна\n    setForceStopped(false);\n    setAnswerShown(false);\n    setLocalTimerStarted(false);\n  }, [block]);\n  const handleForceStopInternal = () => {\n    handleForceStop();\n    setForceStopped(true);\n  };\n  const handleShowAnswerInternal = () => {\n    handleShowAnswer();\n    setAnswerShown(true); // Обновляем локальное состояние после показа ответа\n  };\n  const handleStartTimerInternal = () => {\n    setTimerStarted(true);\n    setLocalTimerStarted(true);\n  };\n  if (!block) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.selectedInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.infoCategoryName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, block.categoryName || 'No Category'), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.selectedNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, block.id + 1)), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, showAnswer ? block.answer : block.question), showAnswer && /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.subAnswer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 22\n    }\n  }, block.subAnswer), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.controlBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, !localTimerStarted ? /*#__PURE__*/React.createElement(StartTimerButton, {\n    onClick: handleStartTimerInternal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }) : !timerEnded ? /*#__PURE__*/React.createElement(Timer, {\n    duration: 30,\n    onEnd: handleTimerEnd,\n    onForceStop: handleForceStopInternal,\n    forceStopped: forceStopped,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }) : !answerShown ? /*#__PURE__*/React.createElement(ShowAnswerButton, {\n    onClick: handleShowAnswerInternal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(SelectCategoryButton, {\n    onClick: handleSelectCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })));\n}\nexport default QAMode;","map":{"version":3,"names":["React","useState","useEffect","StartTimerButton","Timer","SelectCategoryButton","ShowAnswerButton","styles","QAMode","block","showAnswer","setTimerStarted","timerStarted","timerEnded","handleTimerEnd","handleShowAnswer","handleSelectCategory","handleForceStop","forceStopped","setForceStopped","answerShown","setAnswerShown","localTimerStarted","setLocalTimerStarted","handleForceStopInternal","handleShowAnswerInternal","handleStartTimerInternal","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","content","selectedInfo","infoCategoryName","categoryName","selectedNumber","id","answer","question","subAnswer","controlBlock","onClick","duration","onEnd","onForceStop"],"sources":["E:/quiz-app-react/src/components/QAMode/QAMode.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport StartTimerButton from '../StartTimerButton/StartTimerButton';\r\nimport Timer from '../Timer/Timer';\r\nimport SelectCategoryButton from '../SelectCategoryButton/SelectCategoryButton';\r\nimport ShowAnswerButton from '../ShowAnswerButton/ShowAnswerButton';\r\nimport styles from './QAMode.module.css';\r\n\r\nfunction QAMode({\r\n  block,\r\n  showAnswer,\r\n  setTimerStarted,\r\n  timerStarted,\r\n  timerEnded,\r\n  handleTimerEnd,\r\n  handleShowAnswer,\r\n  handleSelectCategory,\r\n  handleForceStop,\r\n}) {\r\n  const [forceStopped, setForceStopped] = useState(false);\r\n  const [answerShown, setAnswerShown] = useState(false); // Локальное состояние для контроля отображения кнопок\r\n  const [localTimerStarted, setLocalTimerStarted] = useState(false); // Локальное состояние для контроля таймера\r\n\r\n  useEffect(() => {\r\n    // Сброс состояния при изменении блока или при открытии модального окна\r\n    setForceStopped(false);\r\n    setAnswerShown(false);\r\n    setLocalTimerStarted(false);\r\n  }, [block]);\r\n\r\n  const handleForceStopInternal = () => {\r\n    handleForceStop();\r\n    setForceStopped(true);\r\n  };\r\n\r\n  const handleShowAnswerInternal = () => {\r\n    handleShowAnswer();\r\n    setAnswerShown(true); // Обновляем локальное состояние после показа ответа\r\n  };\r\n\r\n  const handleStartTimerInternal = () => {\r\n    setTimerStarted(true);\r\n    setLocalTimerStarted(true);\r\n  };\r\n\r\n  if (!block) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.content}>\r\n      <div className={styles.selectedInfo}>\r\n        <span className={styles.infoCategoryName}>{block.categoryName || 'No Category'}</span>\r\n        <div className={styles.selectedNumber}>{block.id + 1}</div>\r\n      </div>\r\n      <h2>{showAnswer ? block.answer : block.question}</h2>\r\n      {showAnswer && <p className={styles.subAnswer}>{block.subAnswer}</p>}\r\n      <div className={styles.controlBlock}>\r\n        {!localTimerStarted ? (\r\n          <StartTimerButton onClick={handleStartTimerInternal} />\r\n        ) : !timerEnded ? (\r\n          <Timer duration={30} onEnd={handleTimerEnd} onForceStop={handleForceStopInternal} forceStopped={forceStopped} />\r\n        ) : !answerShown ? (\r\n          <ShowAnswerButton onClick={handleShowAnswerInternal} />\r\n        ) : (\r\n          <SelectCategoryButton onClick={handleSelectCategory} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QAMode;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}