{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";// Форматирование текста с подсветкой в бэктиках\nexport const formatTextWithHighlights=text=>{const regex=/`([^`]+)`/g;const parts=[];let lastIndex=0;let match;while((match=regex.exec(text))!==null){if(lastIndex<match.index){parts.push(/*#__PURE__*/_jsx(\"span\",{children:text.slice(lastIndex,match.index)},lastIndex));}parts.push(/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:'#e21b3c',color:'white',padding:'0 4px'},children:match[1]},match.index));lastIndex=match.index+match[0].length;}if(lastIndex<text.length){parts.push(/*#__PURE__*/_jsx(\"span\",{children:text.slice(lastIndex)},lastIndex));}return parts;};// Определение размера шрифта для опций\nexport const getOptionFontSize=text=>{const length=text.length;if(length<=10){return 25;}else if(length<=22){return 22;}else if(length>=100){return 16;}else{return 18;}};// Определение размера шрифта для ответа\nexport const getAnswerFontSize=text=>{const length=text.length;if(length<=90){return 22;}else if(length<=110){return 20;}else{return 18;}};// Обработка завершения таймера\nexport const handleForceStopInternal=(handleForceStop,setForceStopped)=>{handleForceStop();setForceStopped(true);};// Обработка показа ответа\nexport const handleShowAnswerInternal=(block,styles,handleShowAnswer,setAnswerShown,setHighlightedOptions)=>{handleShowAnswer();setAnswerShown(true);const correctAnswerIndex=block.options.findIndex(option=>option===block['correct answer']);const updatedOptions=block.options.map((option,index)=>{if(index===correctAnswerIndex){return'';}return styles.incorrectOption;});setHighlightedOptions(updatedOptions);};// Обработка подсказки\nexport const handleHintInternal=(block,styles,setHintUsed,setHighlightedOptions)=>{setHintUsed(true);const correctAnswerIndex=block.options.findIndex(option=>option===block['correct answer']);let randomIndex;do{randomIndex=Math.floor(Math.random()*block.options.length);}while(randomIndex===correctAnswerIndex);const updatedOptions=block.options.map((option,index)=>{if(index===correctAnswerIndex||index===randomIndex){return'';}return styles.incorrectOption;});setHighlightedOptions(updatedOptions);};","map":{"version":3,"names":["formatTextWithHighlights","text","regex","parts","lastIndex","match","exec","index","push","_jsx","children","slice","style","backgroundColor","color","padding","length","getOptionFontSize","getAnswerFontSize","handleForceStopInternal","handleForceStop","setForceStopped","handleShowAnswerInternal","block","styles","handleShowAnswer","setAnswerShown","setHighlightedOptions","correctAnswerIndex","options","findIndex","option","updatedOptions","map","incorrectOption","handleHintInternal","setHintUsed","randomIndex","Math","floor","random"],"sources":["E:/quiz-app-react/src/components/SelectionMode/SelectionModeUtils.js"],"sourcesContent":["// Форматирование текста с подсветкой в бэктиках\r\nexport const formatTextWithHighlights = (text) => {\r\n    const regex = /`([^`]+)`/g;\r\n    const parts = [];\r\n    let lastIndex = 0;\r\n    let match;\r\n  \r\n    while ((match = regex.exec(text)) !== null) {\r\n      if (lastIndex < match.index) {\r\n        parts.push(<span key={lastIndex}>{text.slice(lastIndex, match.index)}</span>);\r\n      }\r\n      parts.push(\r\n        <span key={match.index} style={{ backgroundColor: '#e21b3c', color: 'white', padding: '0 4px' }}>\r\n          {match[1]}\r\n        </span>\r\n      );\r\n      lastIndex = match.index + match[0].length;\r\n    }\r\n  \r\n    if (lastIndex < text.length) {\r\n      parts.push(<span key={lastIndex}>{text.slice(lastIndex)}</span>);\r\n    }\r\n  \r\n    return parts;\r\n  };\r\n  \r\n  // Определение размера шрифта для опций\r\n  export const getOptionFontSize = (text) => {\r\n    const length = text.length;\r\n    if (length <= 10) {\r\n      return 25;\r\n    } else if (length <= 22) {\r\n      return 22;\r\n    } else if (length >= 100) {\r\n      return 16;\r\n    } else {\r\n      return 18;\r\n    }\r\n  };\r\n  \r\n  // Определение размера шрифта для ответа\r\n  export const getAnswerFontSize = (text) => {\r\n    const length = text.length;\r\n    if (length <= 90) {\r\n      return 22;\r\n    } else if (length <= 110) {\r\n      return 20;\r\n    } else {\r\n      return 18;\r\n    }\r\n  };\r\n  \r\n  // Обработка завершения таймера\r\n  export const handleForceStopInternal = (handleForceStop, setForceStopped) => {\r\n    handleForceStop();\r\n    setForceStopped(true);\r\n  };\r\n  \r\n  // Обработка показа ответа\r\n  export const handleShowAnswerInternal = (block, styles, handleShowAnswer, setAnswerShown, setHighlightedOptions) => {\r\n    handleShowAnswer();\r\n    setAnswerShown(true);\r\n  \r\n    const correctAnswerIndex = block.options.findIndex(\r\n      (option) => option === block['correct answer']\r\n    );\r\n  \r\n    const updatedOptions = block.options.map((option, index) => {\r\n      if (index === correctAnswerIndex) {\r\n        return '';\r\n      }\r\n      return styles.incorrectOption;\r\n    });\r\n  \r\n    setHighlightedOptions(updatedOptions);\r\n  };\r\n  \r\n  // Обработка подсказки\r\n  export const handleHintInternal = (block, styles, setHintUsed, setHighlightedOptions) => {\r\n    setHintUsed(true);\r\n  \r\n    const correctAnswerIndex = block.options.findIndex(\r\n      (option) => option === block['correct answer']\r\n    );\r\n  \r\n    let randomIndex;\r\n    do {\r\n      randomIndex = Math.floor(Math.random() * block.options.length);\r\n    } while (randomIndex === correctAnswerIndex);\r\n  \r\n    const updatedOptions = block.options.map((option, index) => {\r\n      if (index === correctAnswerIndex || index === randomIndex) {\r\n        return '';\r\n      }\r\n      return styles.incorrectOption;\r\n    });\r\n  \r\n    setHighlightedOptions(updatedOptions);\r\n  };\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}