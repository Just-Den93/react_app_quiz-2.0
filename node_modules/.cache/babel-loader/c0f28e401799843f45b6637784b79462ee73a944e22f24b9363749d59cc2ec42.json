{"ast":null,"code":"import React from'react';import styles from'./MenuModal.module.css';import{useMenuModal}from'./menuModalUtils';import{useQuizContext}from'../../context/QuizContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MenuModal(_ref){let{showSettings,showMainMenu}=_ref;const{isVisible,closeMenuModal}=useMenuModal();const{currentQuizId,setQuizStates}=useQuizContext();const handleNewGame=()=>{// Очищаем данные текущей викторины в localStorage\nlocalStorage.removeItem(\"data-\".concat(currentQuizId));// Сброс состояния в контексте только для текущей викторины\nsetQuizStates(prevStates=>({...prevStates,[currentQuizId]:{...prevStates[currentQuizId],usedBlocks:{},data:null// Или другой метод сброса данных викторины\n}}));// Закрываем меню, но не трогаем selectedMode и currentQuizId\ncloseMenuModal();};return/*#__PURE__*/_jsx(\"div\",{id:\"menu-modal\",className:styles.menuModal,style:{display:isVisible?'flex':'none',opacity:isVisible?1:0},children:/*#__PURE__*/_jsxs(\"div\",{className:styles.menuModalContent,children:[/*#__PURE__*/_jsx(\"button\",{id:\"new-game-button\",className:styles.menuButton,onClick:handleNewGame,children:\"\\u041D\\u043E\\u0432\\u0430 \\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{id:\"continue-button\",className:styles.menuButton,onClick:closeMenuModal,children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u0432\\u0436\\u0438\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{id:\"settings-button\",className:styles.menuButton,onClick:showSettings,children:\"\\u041D\\u0430\\u043B\\u0430\\u0448\\u0442\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{id:\"main-menu-button\",className:styles.menuButton,onClick:showMainMenu,children:\"\\u0413\\u043E\\u043B\\u043E\\u0432\\u043D\\u0435 \\u043C\\u0435\\u043D\\u044E\"})]})});}export default MenuModal;","map":{"version":3,"names":["React","styles","useMenuModal","useQuizContext","jsx","_jsx","jsxs","_jsxs","MenuModal","_ref","showSettings","showMainMenu","isVisible","closeMenuModal","currentQuizId","setQuizStates","handleNewGame","localStorage","removeItem","concat","prevStates","usedBlocks","data","id","className","menuModal","style","display","opacity","children","menuModalContent","menuButton","onClick"],"sources":["E:/quiz-app-react/src/components/MenuModal/MenuModal.jsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './MenuModal.module.css';\r\nimport { useMenuModal } from './menuModalUtils';\r\nimport { useQuizContext } from '../../context/QuizContext';\r\n\r\nfunction MenuModal({ showSettings, showMainMenu }) {\r\n  const { isVisible, closeMenuModal } = useMenuModal();\r\n  const { currentQuizId, setQuizStates } = useQuizContext();\r\n\r\n  const handleNewGame = () => {\r\n    // Очищаем данные текущей викторины в localStorage\r\n    localStorage.removeItem(`data-${currentQuizId}`);\r\n\r\n    // Сброс состояния в контексте только для текущей викторины\r\n    setQuizStates(prevStates => ({\r\n      ...prevStates,\r\n      [currentQuizId]: {\r\n        ...prevStates[currentQuizId],\r\n        usedBlocks: {},\r\n        data: null, // Или другой метод сброса данных викторины\r\n      },\r\n    }));\r\n\r\n    // Закрываем меню, но не трогаем selectedMode и currentQuizId\r\n    closeMenuModal();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"menu-modal\"\r\n      className={styles.menuModal}\r\n      style={{ display: isVisible ? 'flex' : 'none', opacity: isVisible ? 1 : 0 }}\r\n    >\r\n      <div className={styles.menuModalContent}>\r\n        <button id=\"new-game-button\" className={styles.menuButton} onClick={handleNewGame}>\r\n          Нова гра\r\n        </button>\r\n        <button id=\"continue-button\" className={styles.menuButton} onClick={closeMenuModal}>\r\n          Продовжити\r\n        </button>\r\n        <button id=\"settings-button\" className={styles.menuButton} onClick={showSettings}>\r\n          Налаштування\r\n        </button>\r\n        <button id=\"main-menu-button\" className={styles.menuButton} onClick={showMainMenu}>\r\n          Головне меню\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuModal;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,YAAY,KAAQ,kBAAkB,CAC/C,OAASC,cAAc,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAiC,IAAhC,CAAEC,YAAY,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAC/C,KAAM,CAAEG,SAAS,CAAEC,cAAe,CAAC,CAAGX,YAAY,CAAC,CAAC,CACpD,KAAM,CAAEY,aAAa,CAAEC,aAAc,CAAC,CAAGZ,cAAc,CAAC,CAAC,CAEzD,KAAM,CAAAa,aAAa,CAAGA,CAAA,GAAM,CAC1B;AACAC,YAAY,CAACC,UAAU,SAAAC,MAAA,CAASL,aAAa,CAAE,CAAC,CAEhD;AACAC,aAAa,CAACK,UAAU,GAAK,CAC3B,GAAGA,UAAU,CACb,CAACN,aAAa,EAAG,CACf,GAAGM,UAAU,CAACN,aAAa,CAAC,CAC5BO,UAAU,CAAE,CAAC,CAAC,CACdC,IAAI,CAAE,IAAM;AACd,CACF,CAAC,CAAC,CAAC,CAEH;AACAT,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,mBACER,IAAA,QACEkB,EAAE,CAAC,YAAY,CACfC,SAAS,CAAEvB,MAAM,CAACwB,SAAU,CAC5BC,KAAK,CAAE,CAAEC,OAAO,CAAEf,SAAS,CAAG,MAAM,CAAG,MAAM,CAAEgB,OAAO,CAAEhB,SAAS,CAAG,CAAC,CAAG,CAAE,CAAE,CAAAiB,QAAA,cAE5EtB,KAAA,QAAKiB,SAAS,CAAEvB,MAAM,CAAC6B,gBAAiB,CAAAD,QAAA,eACtCxB,IAAA,WAAQkB,EAAE,CAAC,iBAAiB,CAACC,SAAS,CAAEvB,MAAM,CAAC8B,UAAW,CAACC,OAAO,CAAEhB,aAAc,CAAAa,QAAA,CAAC,6CAEnF,CAAQ,CAAC,cACTxB,IAAA,WAAQkB,EAAE,CAAC,iBAAiB,CAACC,SAAS,CAAEvB,MAAM,CAAC8B,UAAW,CAACC,OAAO,CAAEnB,cAAe,CAAAgB,QAAA,CAAC,8DAEpF,CAAQ,CAAC,cACTxB,IAAA,WAAQkB,EAAE,CAAC,iBAAiB,CAACC,SAAS,CAAEvB,MAAM,CAAC8B,UAAW,CAACC,OAAO,CAAEtB,YAAa,CAAAmB,QAAA,CAAC,0EAElF,CAAQ,CAAC,cACTxB,IAAA,WAAQkB,EAAE,CAAC,kBAAkB,CAACC,SAAS,CAAEvB,MAAM,CAAC8B,UAAW,CAACC,OAAO,CAAErB,YAAa,CAAAkB,QAAA,CAAC,qEAEnF,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAArB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}