{"ast":null,"code":"import React,{useState,useEffect}from'react';import StartTimerButton from'../ButtonComponents/StartTimerButton/StartTimerButton';import Timer from'../Timer/Timer';import SelectCategoryButton from'../ButtonComponents/SelectCategoryButton/SelectCategoryButton';import ShowAnswerButton from'../ButtonComponents/ShowAnswerButton/ShowAnswerButton';import styles from'./QAMode.module.css';import{resetQAState,handleQAActions}from'./QAModeUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QAMode(_ref){let{block,showAnswer,setTimerStarted,timerStarted,timerEnded,handleTimerEnd,handleShowAnswer,handleSelectCategory,handleForceStop}=_ref;const[forceStopped,setForceStopped]=useState(false);const[answerShown,setAnswerShown]=useState(false);// Локальное состояние для контроля отображения кнопок\nconst[localTimerStarted,setLocalTimerStarted]=useState(false);// Локальное состояние для контроля таймера\nuseEffect(()=>{resetQAState(setForceStopped,setAnswerShown,setLocalTimerStarted);// Используем вынесенную функцию для сброса состояния\n},[block]);if(!block){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.selectedInfo,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.infoCategoryName,children:block.categoryName||'No Category'}),/*#__PURE__*/_jsx(\"div\",{className:styles.selectedNumber,children:block.id+1})]}),/*#__PURE__*/_jsx(\"h2\",{children:showAnswer?block.answer:block.question}),showAnswer&&/*#__PURE__*/_jsx(\"p\",{className:styles.subAnswer,children:block.subAnswer}),/*#__PURE__*/_jsx(\"div\",{className:styles.controlBlock,children:!localTimerStarted?/*#__PURE__*/_jsx(StartTimerButton,{onClick:()=>handleQAActions.startTimer(setTimerStarted,setLocalTimerStarted)}):!timerEnded?/*#__PURE__*/_jsx(Timer,{duration:30,onEnd:handleTimerEnd,onForceStop:()=>handleQAActions.forceStop(handleForceStop,setForceStopped),forceStopped:forceStopped}):!answerShown?/*#__PURE__*/_jsx(ShowAnswerButton,{onClick:()=>handleQAActions.showAnswer(handleShowAnswer,setAnswerShown)}):/*#__PURE__*/_jsx(SelectCategoryButton,{onClick:handleSelectCategory})})]});}export default QAMode;","map":{"version":3,"names":["React","useState","useEffect","StartTimerButton","Timer","SelectCategoryButton","ShowAnswerButton","styles","resetQAState","handleQAActions","jsx","_jsx","jsxs","_jsxs","QAMode","_ref","block","showAnswer","setTimerStarted","timerStarted","timerEnded","handleTimerEnd","handleShowAnswer","handleSelectCategory","handleForceStop","forceStopped","setForceStopped","answerShown","setAnswerShown","localTimerStarted","setLocalTimerStarted","children","className","content","selectedInfo","infoCategoryName","categoryName","selectedNumber","id","answer","question","subAnswer","controlBlock","onClick","startTimer","duration","onEnd","onForceStop","forceStop"],"sources":["E:/quiz-app-react/src/components/QAMode/QAMode.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport StartTimerButton from '../ButtonComponents/StartTimerButton/StartTimerButton';\r\nimport Timer from '../Timer/Timer';\r\nimport SelectCategoryButton from '../ButtonComponents/SelectCategoryButton/SelectCategoryButton';\r\nimport ShowAnswerButton from '../ButtonComponents/ShowAnswerButton/ShowAnswerButton';\r\nimport styles from './QAMode.module.css';\r\nimport { resetQAState, handleQAActions } from './QAModeUtils';\r\n\r\nfunction QAMode({\r\n  block,\r\n  showAnswer,\r\n  setTimerStarted,\r\n  timerStarted,\r\n  timerEnded,\r\n  handleTimerEnd,\r\n  handleShowAnswer,\r\n  handleSelectCategory,\r\n  handleForceStop,\r\n}) {\r\n  const [forceStopped, setForceStopped] = useState(false);\r\n  const [answerShown, setAnswerShown] = useState(false); // Локальное состояние для контроля отображения кнопок\r\n  const [localTimerStarted, setLocalTimerStarted] = useState(false); // Локальное состояние для контроля таймера\r\n\r\n  useEffect(() => {\r\n    resetQAState(setForceStopped, setAnswerShown, setLocalTimerStarted); // Используем вынесенную функцию для сброса состояния\r\n  }, [block]);\r\n\r\n  if (!block) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.content}>\r\n      <div className={styles.selectedInfo}>\r\n        <span className={styles.infoCategoryName}>{block.categoryName || 'No Category'}</span>\r\n        <div className={styles.selectedNumber}>{block.id + 1}</div>\r\n      </div>\r\n      <h2>{showAnswer ? block.answer : block.question}</h2>\r\n      {showAnswer && <p className={styles.subAnswer}>{block.subAnswer}</p>}\r\n      <div className={styles.controlBlock}>\r\n        {!localTimerStarted ? (\r\n          <StartTimerButton onClick={() => handleQAActions.startTimer(setTimerStarted, setLocalTimerStarted)} />\r\n        ) : !timerEnded ? (\r\n          <Timer\r\n            duration={30}\r\n            onEnd={handleTimerEnd}\r\n            onForceStop={() => handleQAActions.forceStop(handleForceStop, setForceStopped)}\r\n            forceStopped={forceStopped}\r\n          />\r\n        ) : !answerShown ? (\r\n          <ShowAnswerButton onClick={() => handleQAActions.showAnswer(handleShowAnswer, setAnswerShown)} />\r\n        ) : (\r\n          <SelectCategoryButton onClick={handleSelectCategory} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QAMode;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}