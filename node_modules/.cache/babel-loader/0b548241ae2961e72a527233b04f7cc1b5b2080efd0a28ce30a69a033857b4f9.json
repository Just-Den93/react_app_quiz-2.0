{"ast":null,"code":"var _jsxFileName = \"E:\\\\quiz-app-react\\\\src\\\\context\\\\QuizContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizContext = /*#__PURE__*/createContext();\nexport function useQuizContext() {\n  _s();\n  return useContext(QuizContext);\n}\n_s(useQuizContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function QuizProvider({\n  children\n}) {\n  _s2();\n  const [showQuizPage, setShowQuizPage] = useState(() => {\n    const savedState = localStorage.getItem('showQuizPage');\n    return savedState === 'true';\n  });\n  const [selectedMode, setSelectedMode] = useState(() => {\n    return localStorage.getItem('selectedMode') || null;\n  });\n  const [currentQuizId, setCurrentQuizId] = useState(() => {\n    return localStorage.getItem('currentQuizId') || null;\n  });\n  const [quizStates, setQuizStates] = useState(() => {\n    const savedStates = localStorage.getItem('quizStates');\n    return savedStates ? JSON.parse(savedStates) : {};\n  });\n  useEffect(() => {\n    localStorage.setItem('showQuizPage', showQuizPage);\n  }, [showQuizPage]);\n  useEffect(() => {\n    localStorage.setItem('selectedMode', selectedMode);\n  }, [selectedMode]);\n  useEffect(() => {\n    localStorage.setItem('currentQuizId', currentQuizId);\n  }, [currentQuizId]);\n  useEffect(() => {\n    localStorage.setItem('quizStates', JSON.stringify(quizStates));\n  }, [quizStates]);\n  const updateQuizState = (uuid, newState) => {\n    setQuizStates(prevStates => ({\n      ...prevStates,\n      [uuid]: {\n        ...prevStates[uuid],\n        ...newState\n      }\n    }));\n  };\n  const markBlockAsUsed = (quizId, categoryId, blockId) => {\n    setQuizStates(prevStates => {\n      var _previousState$usedBl;\n      const previousState = prevStates[quizId] || {};\n      const updatedUsedBlocks = {\n        ...previousState.usedBlocks,\n        [categoryId]: [...(((_previousState$usedBl = previousState.usedBlocks) === null || _previousState$usedBl === void 0 ? void 0 : _previousState$usedBl[categoryId]) || []), blockId]\n      };\n      return {\n        ...prevStates,\n        [quizId]: {\n          ...previousState,\n          usedBlocks: updatedUsedBlocks\n        }\n      };\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(QuizContext.Provider, {\n    value: {\n      showQuizPage,\n      setShowQuizPage,\n      selectedMode,\n      setSelectedMode,\n      currentQuizId,\n      setCurrentQuizId,\n      quizStates,\n      updateQuizState,\n      markBlockAsUsed\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s2(QuizProvider, \"xRVPjlCwBDZuUcS/kshbTzcOoy4=\");\n_c = QuizProvider;\nvar _c;\n$RefreshReg$(_c, \"QuizProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","QuizContext","useQuizContext","_s","QuizProvider","children","_s2","showQuizPage","setShowQuizPage","savedState","localStorage","getItem","selectedMode","setSelectedMode","currentQuizId","setCurrentQuizId","quizStates","setQuizStates","savedStates","JSON","parse","setItem","stringify","updateQuizState","uuid","newState","prevStates","markBlockAsUsed","quizId","categoryId","blockId","_previousState$usedBl","previousState","updatedUsedBlocks","usedBlocks","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/quiz-app-react/src/context/QuizContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst QuizContext = createContext();\r\n\r\nexport function useQuizContext() {\r\n  return useContext(QuizContext);\r\n}\r\n\r\nexport function QuizProvider({ children }) {\r\n  const [showQuizPage, setShowQuizPage] = useState(() => {\r\n    const savedState = localStorage.getItem('showQuizPage');\r\n    return savedState === 'true';\r\n  });\r\n\r\n  const [selectedMode, setSelectedMode] = useState(() => {\r\n    return localStorage.getItem('selectedMode') || null;\r\n  });\r\n\r\n  const [currentQuizId, setCurrentQuizId] = useState(() => {\r\n    return localStorage.getItem('currentQuizId') || null;\r\n  });\r\n\r\n  const [quizStates, setQuizStates] = useState(() => {\r\n    const savedStates = localStorage.getItem('quizStates');\r\n    return savedStates ? JSON.parse(savedStates) : {};\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('showQuizPage', showQuizPage);\r\n  }, [showQuizPage]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('selectedMode', selectedMode);\r\n  }, [selectedMode]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('currentQuizId', currentQuizId);\r\n  }, [currentQuizId]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('quizStates', JSON.stringify(quizStates));\r\n  }, [quizStates]);\r\n\r\n  const updateQuizState = (uuid, newState) => {\r\n    setQuizStates(prevStates => ({\r\n      ...prevStates,\r\n      [uuid]: {\r\n        ...prevStates[uuid],\r\n        ...newState,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const markBlockAsUsed = (quizId, categoryId, blockId) => {\r\n    setQuizStates(prevStates => {\r\n      const previousState = prevStates[quizId] || {};\r\n      const updatedUsedBlocks = {\r\n        ...previousState.usedBlocks,\r\n        [categoryId]: [...(previousState.usedBlocks?.[categoryId] || []), blockId],\r\n      };\r\n\r\n      return {\r\n        ...prevStates,\r\n        [quizId]: {\r\n          ...previousState,\r\n          usedBlocks: updatedUsedBlocks,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <QuizContext.Provider value={{\r\n      showQuizPage,\r\n      setShowQuizPage,\r\n      selectedMode,\r\n      setSelectedMode,\r\n      currentQuizId,\r\n      setCurrentQuizId,\r\n      quizStates,\r\n      updateQuizState,\r\n      markBlockAsUsed,\r\n    }}>\r\n      {children}\r\n    </QuizContext.Provider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}