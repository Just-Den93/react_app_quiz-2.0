{"ast":null,"code":"import React from'react';import styles from'./MenuModal.module.css';import{useMenuModal}from'./menuModalUtils';import{useQuizContext}from'../../context/QuizContext';import NewGameButton from'../NewGameButton/NewGameButton';import ContinueButton from'../ContinueButton/ContinueButton';import SettingsButton from'../SettingsButton/SettingsButton';import MainMenuButton from'../MainMenuButton/MainMenuButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MenuModal(_ref){let{showSettings,showMainMenu}=_ref;const{isVisible,closeMenuModal}=useMenuModal();const{currentQuizId,setQuizStates}=useQuizContext();const handleNewGame=()=>{// Очищаем все данные текущей викторины в localStorage\nlocalStorage.removeItem(\"data-\".concat(currentQuizId));localStorage.removeItem(\"usedBlocks-\".concat(currentQuizId));localStorage.removeItem('quizStates');// Очищаем состояние викторины в localStorage\n// Сбрасываем состояние викторины в контексте приложения\nsetQuizStates(prevStates=>({...prevStates,[currentQuizId]:{usedBlocks:{},data:null}}));// Закрываем меню\ncloseMenuModal();};return/*#__PURE__*/_jsx(\"div\",{id:\"menu-modal\",className:styles.menuModal,style:{display:isVisible?'flex':'none',opacity:isVisible?1:0},children:/*#__PURE__*/_jsxs(\"div\",{className:styles.menuModalContent,children:[/*#__PURE__*/_jsx(NewGameButton,{onNewGame:handleNewGame}),\" \",/*#__PURE__*/_jsx(ContinueButton,{onClick:closeMenuModal}),/*#__PURE__*/_jsx(SettingsButton,{onClick:showSettings}),/*#__PURE__*/_jsx(MainMenuButton,{onClick:showMainMenu})]})});}export default MenuModal;","map":{"version":3,"names":["React","styles","useMenuModal","useQuizContext","NewGameButton","ContinueButton","SettingsButton","MainMenuButton","jsx","_jsx","jsxs","_jsxs","MenuModal","_ref","showSettings","showMainMenu","isVisible","closeMenuModal","currentQuizId","setQuizStates","handleNewGame","localStorage","removeItem","concat","prevStates","usedBlocks","data","id","className","menuModal","style","display","opacity","children","menuModalContent","onNewGame","onClick"],"sources":["E:/quiz-app-react/src/components/MenuModal/MenuModal.jsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './MenuModal.module.css';\r\nimport { useMenuModal } from './menuModalUtils';\r\nimport { useQuizContext } from '../../context/QuizContext';\r\n\r\nimport NewGameButton from '../NewGameButton/NewGameButton';\r\nimport ContinueButton from '../ContinueButton/ContinueButton';\r\nimport SettingsButton from '../SettingsButton/SettingsButton';\r\nimport MainMenuButton from '../MainMenuButton/MainMenuButton';\r\n\r\nfunction MenuModal({ showSettings, showMainMenu }) {\r\n  const { isVisible, closeMenuModal } = useMenuModal();\r\n  const { currentQuizId, setQuizStates } = useQuizContext();\r\n\r\n  const handleNewGame = () => {\r\n    // Очищаем все данные текущей викторины в localStorage\r\n    localStorage.removeItem(`data-${currentQuizId}`);\r\n    localStorage.removeItem(`usedBlocks-${currentQuizId}`);\r\n    localStorage.removeItem('quizStates');  // Очищаем состояние викторины в localStorage\r\n\r\n    // Сбрасываем состояние викторины в контексте приложения\r\n    setQuizStates((prevStates) => ({\r\n      ...prevStates,\r\n      [currentQuizId]: {\r\n        usedBlocks: {},\r\n        data: null,\r\n      },\r\n    }));\r\n\r\n    // Закрываем меню\r\n    closeMenuModal();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"menu-modal\"\r\n      className={styles.menuModal}\r\n      style={{ display: isVisible ? 'flex' : 'none', opacity: isVisible ? 1 : 0 }}\r\n    >\r\n      <div className={styles.menuModalContent}>\r\n        <NewGameButton onNewGame={handleNewGame} /> {/* Передаем обработчик для новой игры */}\r\n        <ContinueButton onClick={closeMenuModal} />\r\n        <SettingsButton onClick={showSettings} />\r\n        <MainMenuButton onClick={showMainMenu} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuModal;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,YAAY,KAAQ,kBAAkB,CAC/C,OAASC,cAAc,KAAQ,2BAA2B,CAE1D,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9D,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAiC,IAAhC,CAAEC,YAAY,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAC/C,KAAM,CAAEG,SAAS,CAAEC,cAAe,CAAC,CAAGf,YAAY,CAAC,CAAC,CACpD,KAAM,CAAEgB,aAAa,CAAEC,aAAc,CAAC,CAAGhB,cAAc,CAAC,CAAC,CAEzD,KAAM,CAAAiB,aAAa,CAAGA,CAAA,GAAM,CAC1B;AACAC,YAAY,CAACC,UAAU,SAAAC,MAAA,CAASL,aAAa,CAAE,CAAC,CAChDG,YAAY,CAACC,UAAU,eAAAC,MAAA,CAAeL,aAAa,CAAE,CAAC,CACtDG,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC,CAAG;AAExC;AACAH,aAAa,CAAEK,UAAU,GAAM,CAC7B,GAAGA,UAAU,CACb,CAACN,aAAa,EAAG,CACfO,UAAU,CAAE,CAAC,CAAC,CACdC,IAAI,CAAE,IACR,CACF,CAAC,CAAC,CAAC,CAEH;AACAT,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,mBACER,IAAA,QACEkB,EAAE,CAAC,YAAY,CACfC,SAAS,CAAE3B,MAAM,CAAC4B,SAAU,CAC5BC,KAAK,CAAE,CAAEC,OAAO,CAAEf,SAAS,CAAG,MAAM,CAAG,MAAM,CAAEgB,OAAO,CAAEhB,SAAS,CAAG,CAAC,CAAG,CAAE,CAAE,CAAAiB,QAAA,cAE5EtB,KAAA,QAAKiB,SAAS,CAAE3B,MAAM,CAACiC,gBAAiB,CAAAD,QAAA,eACtCxB,IAAA,CAACL,aAAa,EAAC+B,SAAS,CAAEf,aAAc,CAAE,CAAC,IAAC,cAC5CX,IAAA,CAACJ,cAAc,EAAC+B,OAAO,CAAEnB,cAAe,CAAE,CAAC,cAC3CR,IAAA,CAACH,cAAc,EAAC8B,OAAO,CAAEtB,YAAa,CAAE,CAAC,cACzCL,IAAA,CAACF,cAAc,EAAC6B,OAAO,CAAErB,YAAa,CAAE,CAAC,EACtC,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}