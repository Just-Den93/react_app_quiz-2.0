{"ast":null,"code":"import React from'react';import{useQuizContext}from'../../context/QuizContext';import styles from'./QuizCard.module.css';import quizImage from'../../images/quizpng.png';import{ReactComponent as PCImage}from'../../images/PC_horizontal_1line_color.svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuizCard(_ref){let{startQuiz,mode,name,categories,uuid}=_ref;const{quizStates}=useQuizContext();// Получаем текущее состояние викторины для конкретного uuid\nconst currentQuizState=quizStates[uuid]||{};const completedGames=currentQuizState.completedGames||0;// Подсчет общего количества вопросов\nconst totalQuestions=categories&&Array.isArray(categories)?categories.reduce((acc,category)=>{var _category$blocks;return acc+(((_category$blocks=category.blocks)===null||_category$blocks===void 0?void 0:_category$blocks.length)||0);},0):0;return/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.image,children:[/*#__PURE__*/_jsx(\"img\",{src:quizImage,alt:\"Quiz Image\",className:styles.imageContent}),/*#__PURE__*/_jsxs(\"div\",{className:styles.questionCount,children:[totalQuestions,\" \\u0437\\u0430\\u043F\\u0438\\u0442\\u0430\\u043D\\u044C\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.details,children:[/*#__PURE__*/_jsx(\"h2\",{children:name}),/*#__PURE__*/_jsxs(\"div\",{className:styles.bottomRow,children:[/*#__PURE__*/_jsx(PCImage,{className:styles.affiliationIcon}),/*#__PURE__*/_jsxs(\"p\",{className:styles.games,children:[\"\\u0406\\u0433\\u0440\\u0438: \",completedGames]}),/*#__PURE__*/_jsx(\"button\",{className:styles.startButton,onClick:startQuiz,children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0441\\u0442\\u0438 \\u043D\\u0430\\u0436\\u0438\\u0432\\u043E\"})]})]})]});}export default QuizCard;","map":{"version":3,"names":["React","useQuizContext","styles","quizImage","ReactComponent","PCImage","jsx","_jsx","jsxs","_jsxs","QuizCard","_ref","startQuiz","mode","name","categories","uuid","quizStates","currentQuizState","completedGames","totalQuestions","Array","isArray","reduce","acc","category","_category$blocks","blocks","length","className","card","children","image","src","alt","imageContent","questionCount","details","bottomRow","affiliationIcon","games","startButton","onClick"],"sources":["E:/quiz-app-react/src/components/QuizCard/QuizCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useQuizContext } from '../../context/QuizContext';\r\nimport styles from './QuizCard.module.css';\r\nimport quizImage from '../../images/quizpng.png';\r\nimport { ReactComponent as PCImage } from '../../images/PC_horizontal_1line_color.svg';\r\n\r\nfunction QuizCard({ startQuiz, mode, name, categories, uuid }) {\r\n  const { quizStates } = useQuizContext();\r\n\r\n  // Получаем текущее состояние викторины для конкретного uuid\r\n  const currentQuizState = quizStates[uuid] || {};\r\n  const completedGames = currentQuizState.completedGames || 0;\r\n\r\n  // Подсчет общего количества вопросов\r\n  const totalQuestions = categories && Array.isArray(categories)\r\n    ? categories.reduce((acc, category) => acc + (category.blocks?.length || 0), 0)\r\n    : 0;\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      <div className={styles.image}>\r\n        <img src={quizImage} alt=\"Quiz Image\" className={styles.imageContent} />\r\n        <div className={styles.questionCount}>{totalQuestions} запитань</div>\r\n      </div>\r\n      <div className={styles.details}>\r\n        <h2>{name}</h2>\r\n        <div className={styles.bottomRow}>\r\n          <PCImage className={styles.affiliationIcon} />\r\n          <p className={styles.games}>Ігри: {completedGames}</p>\r\n          <button className={styles.startButton} onClick={startQuiz}>\r\n            Провести наживо\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nQuizCard.propTypes = {\r\n  startQuiz: PropTypes.func.isRequired,\r\n  mode: PropTypes.number.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  categories: PropTypes.array.isRequired, // Проп для всех категорий\r\n  uuid: PropTypes.string.isRequired, // uuid для уникальной идентификации викторины\r\n};\r\n\r\nexport default QuizCard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,cAAc,KAAQ,2BAA2B,CAC1D,MAAO,CAAAC,MAAM,KAAM,uBAAuB,CAC1C,MAAO,CAAAC,SAAS,KAAM,0BAA0B,CAChD,OAASC,cAAc,GAAI,CAAAC,OAAO,KAAQ,4CAA4C,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvF,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA8C,IAA7C,CAAEC,SAAS,CAAEC,IAAI,CAAEC,IAAI,CAAEC,UAAU,CAAEC,IAAK,CAAC,CAAAL,IAAA,CAC3D,KAAM,CAAEM,UAAW,CAAC,CAAGhB,cAAc,CAAC,CAAC,CAEvC;AACA,KAAM,CAAAiB,gBAAgB,CAAGD,UAAU,CAACD,IAAI,CAAC,EAAI,CAAC,CAAC,CAC/C,KAAM,CAAAG,cAAc,CAAGD,gBAAgB,CAACC,cAAc,EAAI,CAAC,CAE3D;AACA,KAAM,CAAAC,cAAc,CAAGL,UAAU,EAAIM,KAAK,CAACC,OAAO,CAACP,UAAU,CAAC,CAC1DA,UAAU,CAACQ,MAAM,CAAC,CAACC,GAAG,CAAEC,QAAQ,QAAAC,gBAAA,OAAK,CAAAF,GAAG,EAAI,EAAAE,gBAAA,CAAAD,QAAQ,CAACE,MAAM,UAAAD,gBAAA,iBAAfA,gBAAA,CAAiBE,MAAM,GAAI,CAAC,CAAC,GAAE,CAAC,CAAC,CAC7E,CAAC,CAEL,mBACEnB,KAAA,QAAKoB,SAAS,CAAE3B,MAAM,CAAC4B,IAAK,CAAAC,QAAA,eAC1BtB,KAAA,QAAKoB,SAAS,CAAE3B,MAAM,CAAC8B,KAAM,CAAAD,QAAA,eAC3BxB,IAAA,QAAK0B,GAAG,CAAE9B,SAAU,CAAC+B,GAAG,CAAC,YAAY,CAACL,SAAS,CAAE3B,MAAM,CAACiC,YAAa,CAAE,CAAC,cACxE1B,KAAA,QAAKoB,SAAS,CAAE3B,MAAM,CAACkC,aAAc,CAAAL,QAAA,EAAEX,cAAc,CAAC,mDAAS,EAAK,CAAC,EAClE,CAAC,cACNX,KAAA,QAAKoB,SAAS,CAAE3B,MAAM,CAACmC,OAAQ,CAAAN,QAAA,eAC7BxB,IAAA,OAAAwB,QAAA,CAAKjB,IAAI,CAAK,CAAC,cACfL,KAAA,QAAKoB,SAAS,CAAE3B,MAAM,CAACoC,SAAU,CAAAP,QAAA,eAC/BxB,IAAA,CAACF,OAAO,EAACwB,SAAS,CAAE3B,MAAM,CAACqC,eAAgB,CAAE,CAAC,cAC9C9B,KAAA,MAAGoB,SAAS,CAAE3B,MAAM,CAACsC,KAAM,CAAAT,QAAA,EAAC,4BAAM,CAACZ,cAAc,EAAI,CAAC,cACtDZ,IAAA,WAAQsB,SAAS,CAAE3B,MAAM,CAACuC,WAAY,CAACC,OAAO,CAAE9B,SAAU,CAAAmB,QAAA,CAAC,uFAE3D,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAUA,cAAe,CAAArB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}