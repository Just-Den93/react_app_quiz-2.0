{"ast":null,"code":"// Централізована обробка помилок\nexport const handleError = (error, customMessage) => {\n  const errorMessages = {\n    // localStorage помилки\n    QUOTA_EXCEEDED_ERR: 'Не вдалося зберегти дані. Сховище браузера переповнене.',\n    STORAGE_ERROR: 'Помилка при роботі з локальним сховищем браузера.',\n    // Помилки завантаження даних\n    DATA_LOAD_ERROR: 'Не вдалося завантажити дані вікторини.',\n    JSON_PARSE_ERROR: 'Помилка при обробці даних.',\n    // DOM помилки\n    MODAL_ERROR: 'Помилка при роботі з модальним вікном.',\n    // Анімації\n    ANIMATION_ERROR: 'Не вдалося запустити анімацію.',\n    // Загальні помилки\n    DEFAULT: 'Сталася непередбачена помилка.'\n  };\n  const message = customMessage || errorMessages[error.name] || errorMessages.DEFAULT;\n  alert(message);\n\n  // Можна додати логування помилок для розробки\n  if (process.env.NODE_ENV === 'development') {\n    console.error('Error details:', error);\n  }\n};\n\n// Безпечна робота з localStorage\nexport const safeStorage = {\n  setItem(key, value) {\n    try {\n      localStorage.setItem(key, value);\n    } catch (error) {\n      handleError(error, 'Не вдалося зберегти прогрес гри.');\n    }\n  },\n  getItem(key, defaultValue = null) {\n    try {\n      const item = localStorage.getItem(key);\n      return item !== null ? item : defaultValue;\n    } catch (error) {\n      handleError(error, 'Не вдалося завантажити збережений прогрес.');\n      return defaultValue;\n    }\n  },\n  removeItem(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (error) {\n      handleError(error, 'Не вдалося видалити збережені дані.');\n    }\n  }\n};\n\n// Безпечне перетворення JSON\nexport const safeJsonParse = (jsonString, defaultValue = null) => {\n  try {\n    return JSON.parse(jsonString);\n  } catch (error) {\n    handleError(error, 'Помилка при обробці даних гри.');\n    return defaultValue;\n  }\n};\n\n// Безпечне завантаження даних вікторини\nexport const safeLoadQuizData = () => {\n  try {\n    const context = require.context('../data', false, /\\.json$/);\n    return context.keys().map(key => ({\n      ...context(key),\n      filename: key\n    }));\n  } catch (error) {\n    handleError(error, 'Не вдалося завантажити дані вікторини.');\n    return [];\n  }\n};\n\n// Безпечна робота з DOM елементами\nexport const safeDomOperations = {\n  toggleModal(modalId, isVisible) {\n    try {\n      const modal = document.getElementById(modalId);\n      if (modal) {\n        modal.style.display = isVisible ? 'flex' : 'none';\n      }\n    } catch (error) {\n      handleError(error, 'Помилка при роботі з модальним вікном.');\n    }\n  },\n  getElement(id) {\n    try {\n      return document.getElementById(id);\n    } catch (error) {\n      handleError(error, 'Помилка при роботі з елементом сторінки.');\n      return null;\n    }\n  }\n};","map":{"version":3,"names":["handleError","error","customMessage","errorMessages","QUOTA_EXCEEDED_ERR","STORAGE_ERROR","DATA_LOAD_ERROR","JSON_PARSE_ERROR","MODAL_ERROR","ANIMATION_ERROR","DEFAULT","message","name","alert","process","env","NODE_ENV","console","safeStorage","setItem","key","value","localStorage","getItem","defaultValue","item","removeItem","safeJsonParse","jsonString","JSON","parse","safeLoadQuizData","context","require","keys","map","filename","safeDomOperations","toggleModal","modalId","isVisible","modal","document","getElementById","style","display","getElement","id"],"sources":["E:/quiz-app-react/src/utils/errorHandling.js"],"sourcesContent":["// Централізована обробка помилок\r\nexport const handleError = (error, customMessage) => {\r\n  const errorMessages = {\r\n    // localStorage помилки\r\n    QUOTA_EXCEEDED_ERR: 'Не вдалося зберегти дані. Сховище браузера переповнене.',\r\n    STORAGE_ERROR: 'Помилка при роботі з локальним сховищем браузера.',\r\n    \r\n    // Помилки завантаження даних\r\n    DATA_LOAD_ERROR: 'Не вдалося завантажити дані вікторини.',\r\n    JSON_PARSE_ERROR: 'Помилка при обробці даних.',\r\n    \r\n    // DOM помилки\r\n    MODAL_ERROR: 'Помилка при роботі з модальним вікном.',\r\n    \r\n    // Анімації\r\n    ANIMATION_ERROR: 'Не вдалося запустити анімацію.',\r\n    \r\n    // Загальні помилки\r\n    DEFAULT: 'Сталася непередбачена помилка.'\r\n  };\r\n\r\n  const message = customMessage || errorMessages[error.name] || errorMessages.DEFAULT;\r\n  alert(message);\r\n  \r\n  // Можна додати логування помилок для розробки\r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.error('Error details:', error);\r\n  }\r\n};\r\n\r\n// Безпечна робота з localStorage\r\nexport const safeStorage = {\r\n  setItem(key, value) {\r\n    try {\r\n      localStorage.setItem(key, value);\r\n    } catch (error) {\r\n      handleError(error, 'Не вдалося зберегти прогрес гри.');\r\n    }\r\n  },\r\n  \r\n  getItem(key, defaultValue = null) {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item !== null ? item : defaultValue;\r\n    } catch (error) {\r\n      handleError(error, 'Не вдалося завантажити збережений прогрес.');\r\n      return defaultValue;\r\n    }\r\n  },\r\n  \r\n  removeItem(key) {\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      handleError(error, 'Не вдалося видалити збережені дані.');\r\n    }\r\n  }\r\n};\r\n\r\n// Безпечне перетворення JSON\r\nexport const safeJsonParse = (jsonString, defaultValue = null) => {\r\n  try {\r\n    return JSON.parse(jsonString);\r\n  } catch (error) {\r\n    handleError(error, 'Помилка при обробці даних гри.');\r\n    return defaultValue;\r\n  }\r\n};\r\n\r\n// Безпечне завантаження даних вікторини\r\nexport const safeLoadQuizData = () => {\r\n  try {\r\n    const context = require.context('../data', false, /\\.json$/);\r\n    return context.keys().map(key => ({\r\n      ...context(key),\r\n      filename: key,\r\n    }));\r\n  } catch (error) {\r\n    handleError(error, 'Не вдалося завантажити дані вікторини.');\r\n    return [];\r\n  }\r\n};\r\n\r\n// Безпечна робота з DOM елементами\r\nexport const safeDomOperations = {\r\n  toggleModal(modalId, isVisible) {\r\n    try {\r\n      const modal = document.getElementById(modalId);\r\n      if (modal) {\r\n        modal.style.display = isVisible ? 'flex' : 'none';\r\n      }\r\n    } catch (error) {\r\n      handleError(error, 'Помилка при роботі з модальним вікном.');\r\n    }\r\n  },\r\n\r\n  getElement(id) {\r\n    try {\r\n      return document.getElementById(id);\r\n    } catch (error) {\r\n      handleError(error, 'Помилка при роботі з елементом сторінки.');\r\n      return null;\r\n    }\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}